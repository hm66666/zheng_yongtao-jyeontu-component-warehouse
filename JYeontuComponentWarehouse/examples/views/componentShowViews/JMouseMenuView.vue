<template>
    <split-horizontal>
        <template v-slot:header-p>
            <div class="j-title">
                é¼ æ ‡å³é”®èœå•æ ï¼ˆJMouseMenuï¼‰
                <div class="j-detail">è‡ªå®šä¹‰é¼ æ ‡å³é”®èœå•æ </div>
            </div>
        </template>
        <template v-slot:left-p>
            <div class="content">
                <div
                    id="j-mouse-menu-view-content1"
                    class="j-mouse-menu-view-content"
                >
                    ä½¿ç”¨å‚æ•°menuä¼ å…¥èœå•å±•ç¤ºåˆ—è¡¨ï¼Œåœ¨æœ¬æ¡†æ¡†å†…ä½¿ç”¨å³é”®ç‚¹å‡»è¯•è¯•
                    <j-mouse-menu
                        :domId="'j-mouse-menu-view-content1'"
                        :menu="myMenu"
                        @menuClick="menuClick"
                    >
                        <template v-slot:header>
                            <div class="menu-slot-header">ğŸŒJYeontu</div>
                        </template>
                        <template v-slot:footer>
                            <div class="menu-slot">
                                ğŸ¦ğŸ¼
                            </div>
                        </template>
                    </j-mouse-menu>
                </div>
                <div
                    id="j-mouse-menu-view-content2"
                    class="j-mouse-menu-view-content"
                >
                    slotæ’æ§½è‡ªå®šä¹‰èœå•å†…å®¹ï¼Œåœ¨æœ¬æ¡†æ¡†å†…ä½¿ç”¨å³é”®ç‚¹å‡»è¯•è¯•
                    <j-mouse-menu :domId="'j-mouse-menu-view-content2'">
                        <template v-slot:header>
                            <div class="menu-slot-header">ğŸŒJYeontu</div>
                        </template>
                        <template v-slot:body>
                            <ul>
                                <li @click="alert('æ’æ§½1')">æ’æ§½1</li>
                                <li @click="alert('æ’æ§½2')">æ’æ§½2</li>
                                <li @click="alert('æ’æ§½3')">æ’æ§½3</li>
                            </ul>
                        </template>
                        <template v-slot:footer>
                            <div class="menu-slot">
                                ğŸ¦ğŸ¼
                            </div>
                        </template>
                    </j-mouse-menu>
                </div>
            </div>
        </template>
        <template v-slot:right-p>
            <div>
                <j-table
                    :title="tableTitle"
                    :tableData="tableData"
                    style="height: 400px"
                >
                </j-table>
            </div>
        </template>
        <template v-slot:footer-p>
            <pre v-highlight>
                <code class="vue" v-text="code">
                </code>
            </pre>
        </template>
    </split-horizontal>
</template>
<script>
import splitHorizontal from "@/components/pages/splitHorizontal.vue";
export default {
    name: "JMouseMenuView",
    components: {
        splitHorizontal
    },
    data() {
        return {
            code: "",
            tableTitle: [
                {
                    title: "å‚æ•°", //å±•ç¤ºåˆ—å
                    key: "parameter", //å­—æ®µå
                    type: "", // åˆ—ç±»å‹
                    readOnly: true, //æ˜¯å¦åªè¯»
                    width: "20vw", //åˆ—å®½åº¦
                    columnStyle: "", // åˆ—æ ·å¼
                    fixed: false, //æ˜¯å¦å›ºå®š
                    sort: false // æ˜¯å¦æ”¯æŒæ’åº
                },
                {
                    title: "å­—æ®µå", //å±•ç¤ºåˆ—å
                    key: "field", //å­—æ®µå
                    type: "", // åˆ—ç±»å‹
                    readOnly: true, //æ˜¯å¦åªè¯»
                    width: "30vw", //åˆ—å®½åº¦
                    columnStyle: "", // åˆ—æ ·å¼
                    fixed: false, //æ˜¯å¦å›ºå®š
                    sort: false // æ˜¯å¦æ”¯æŒæ’åº
                },
                {
                    title: "æ•°æ®ç±»å‹", //å±•ç¤ºåˆ—å
                    key: "type", //å­—æ®µå
                    type: "", // åˆ—ç±»å‹
                    readOnly: true, //æ˜¯å¦åªè¯»
                    width: "15vw", //åˆ—å®½åº¦
                    columnStyle: "", // åˆ—æ ·å¼
                    fixed: false, //æ˜¯å¦å›ºå®š
                    sort: false // æ˜¯å¦æ”¯æŒæ’åº
                },
                {
                    title: "æè¿°", //å±•ç¤ºåˆ—å
                    key: "describe", //å­—æ®µå
                    type: "", // åˆ—ç±»å‹
                    readOnly: true, //æ˜¯å¦åªè¯»
                    width: "35vw", //åˆ—å®½åº¦
                    columnStyle: "", // åˆ—æ ·å¼
                    fixed: false, //æ˜¯å¦å›ºå®š
                    sort: false // æ˜¯å¦æ”¯æŒæ’åº
                }
            ],
            tableData: [
                {
                    parameter: "domId",
                    field: "ä¿®æ”¹å³é”®èœå•çš„domèŠ‚ç‚¹id",
                    type: "String",
                    describe:
                        "ä¿®æ”¹å³é”®èœå•çš„domèŠ‚ç‚¹idï¼Œåœ¨æ”¹èŠ‚ç‚¹ä¸Šå³é”®ç‚¹å‡»ä¼šå±•ç¤ºè‡ªå®šä¹‰çš„èœå•åˆ—è¡¨"
                },
                {
                    parameter: "menu",
                    field: "éœ€è¦å±•ç¤ºçš„èœå•æ åˆ—è¡¨",
                    type: "Boolean",
                    describe: "å…·ä½“å‚æ•°å¦‚ä¸‹"
                },
                {
                    parameter: "menuClick",
                    field: "èœå•ç‚¹å‡»äº‹ä»¶",
                    type: "Function",
                    describe: "ä¼šå°†ç‚¹å‡»çš„å¯¹è±¡ä½œä¸ºå‚æ•°å›è°ƒ"
                },
                {
                    parameter: "header",
                    field: "èœå•é¡¶éƒ¨æ’æ§½",
                    type: "html",
                    describe: "å±•å¼€å¯æŸ¥çœ‹ä¾‹å­",
                    children: {
                        type: "text",
                        text:
                            '\n<template v-slot:header>\n\t<div class="menu-slot-header">ğŸŒJYeontu</div>\n</template>'
                    }
                },
                {
                    parameter: "body",
                    field: "èœå•å†…å®¹æ’æ§½",
                    type: "html",
                    describe: "å±•å¼€å¯æŸ¥çœ‹ä¾‹å­",
                    children: {
                        type: "text",
                        text: `\n<template v-slot:body>\n\t<ul>\n\t\t<li @click="alert('æ’æ§½1')">æ’æ§½1</li>\n\t\t<li @click="alert('æ’æ§½2')">æ’æ§½2</li>\n\t\t<li @click="alert('æ’æ§½3')">æ’æ§½3</li>\n\t</ul>\n</template>`
                    }
                },
                {
                    parameter: "footer",
                    field: "èœå•åº•éƒ¨æ’æ§½",
                    type: "html",
                    describe: "å±•å¼€å¯æŸ¥çœ‹ä¾‹å­",
                    children: {
                        type: "text",
                        text:
                            '\n<template v-slot:footer>\n\t<div class="menu-slot">ğŸ¦ğŸ¼</div>\n</template>'
                    }
                }
            ],
            myMenu: [
                {
                    id: "1",
                    label: "èœå•1"
                },
                {
                    id: "2",
                    label: "èœå•2",
                    click: this.test
                },
                {
                    id: "3",
                    label: "èœå•3"
                },
                {
                    id: "4",
                    label: "èœå•4"
                },
                {
                    id: "5",
                    label: "èœå•5"
                }
            ]
        };
    },
    created() {
        this.tableData[1].children = {
            title: this.tableTitle,
            data: [
                {
                    parameter: "id",
                    field: "èœå•é¡¹id",
                    type: "String",
                    describe: "èœå•é¡¹id"
                },
                {
                    parameter: "label",
                    field: "èœå•é¡¹å±•ç¤ºå†…å®¹",
                    type: "String",
                    describe: "èœå•é¡¹å±•ç¤ºå†…å®¹"
                },
                {
                    parameter: "click",
                    field: "èœå•ç‚¹å‡»äº‹ä»¶",
                    type: "Function",
                    describe: "èœå•ç‚¹å‡»äº‹ä»¶ï¼Œæœªå®šä¹‰å€¼å›è°ƒmenuClick"
                }
            ]
        };
        this.code = `
<template>
    <div>
        <div
            id="j-mouse-menu-view-content1"
            class="j-mouse-menu-view-content"
        >
            ä½¿ç”¨å‚æ•°menuä¼ å…¥èœå•å±•ç¤ºåˆ—è¡¨ï¼Œåœ¨æœ¬æ¡†æ¡†å†…ä½¿ç”¨å³é”®ç‚¹å‡»è¯•è¯•
            <j-mouse-menu
                :domId="'j-mouse-menu-view-content1'"
                :menu="myMenu"
                @menuClick="menuClick"
            >
                <template v-slot:header>
                    <div class="menu-slot-header">ğŸŒJYeontu</div>
                </template>
                <template v-slot:footer>
                    <div class="menu-slot">
                        ğŸ¦ğŸ¼
                    </div>
                </template>
            </j-mouse-menu>
        </div>
        <div
            id="j-mouse-menu-view-content2"
            class="j-mouse-menu-view-content"
        >
            slotæ’æ§½è‡ªå®šä¹‰èœå•å†…å®¹ï¼Œåœ¨æœ¬æ¡†æ¡†å†…ä½¿ç”¨å³é”®ç‚¹å‡»è¯•è¯•
            <j-mouse-menu :domId="'j-mouse-menu-view-content2'">
                <template v-slot:header>
                    <div class="menu-slot-header">ğŸŒJYeontu</div>
                </template>
                <template v-slot:body>
                    <ul>
                        <li @click="alert('æ’æ§½1')">æ’æ§½1</li>
                        <li @click="alert('æ’æ§½2')">æ’æ§½2</li>
                        <li @click="alert('æ’æ§½3')">æ’æ§½3</li>
                    </ul>
                </template>
                <template v-slot:footer>
                    <div class="menu-slot">
                        ğŸ¦ğŸ¼
                    </div>
                </template>
            </j-mouse-menu>
        </div>
    </div>
</template>
<script>
    export default {
        data(){
            return {
                myMenu: [
                    {
                        id: "1",
                        label: "èœå•1"
                    },
                    {
                        id: "2",
                        label: "èœå•2",
                        click: this.test
                    },
                    {
                        id: "3",
                        label: "èœå•3"
                    },
                    {
                        id: "4",
                        label: "èœå•4"
                    },
                    {
                        id: "5",
                        label: "èœå•5"
                    }
                ]
            }
        },
        methods:{
            menuClick(menuItem) {
                alert("ç‚¹å‡»äº†ï¼š" + menuItem.label);
            },
            test(menuItem) {
                alert("test-" + menuItem.id);
            },
            alert(label) {
                alert("ç‚¹å‡»äº†ï¼š" + label);
            }
        }
    }
<\/script>
<style lang="less" scoped>
.j-mouse-menu-view-content {
    min-height: 20vh;
    min-width: 100%;
    border: 1px skyblue solid;
    .menu-slot {
        text-align: center;
    }
    .menu-slot-header {
        line-height: 1.5;
    }
}
</style>
`;
    },
    mounted() {},
    methods: {
        menuClick(menuItem) {
            alert("ç‚¹å‡»äº†ï¼š" + menuItem.label);
        },
        test(menuItem) {
            alert("test-" + menuItem.id);
        },
        alert(label) {
            alert("ç‚¹å‡»äº†ï¼š" + label);
        }
    }
};
</script>
<style scoped lang="less">
.title {
    font-size: x-large;
    text-align: left;
    margin-bottom: 1rem;
    .detail {
        font-size: medium;
        color: dimgrey;
        margin-top: 1rem;
    }
}
.content {
    margin: auto auto;
    // width: 50%;
    .j-mouse-menu-view-content {
        min-height: 20vh;
        min-width: 100%;
        border: 1px skyblue solid;
        .menu-slot {
            text-align: center;
        }
        .menu-slot-header {
            line-height: 1.5;
        }
    }
}
.header {
    min-height: 4rem;
    text-align: center;
}
.footer {
    margin-top: 2rem;
    margin-left: 2%;
    width: 95%;
}
</style>
